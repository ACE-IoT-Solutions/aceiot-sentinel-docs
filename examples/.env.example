# Sentinel Container Configuration
# Copy this file to .env and configure for your deployment

# ===========================================
# VOLTTRON Platform Configuration
# ===========================================
# VIP address for VOLTTRON communication (default: tcp://127.0.0.1:22917)
# Use 22917 to avoid conflicts with other VOLTTRON instances on 22916
# Set to tcp://0.0.0.0:22917 to allow external connections
VOLTTRON_VIP_ADDRESS=tcp://127.0.0.1:22917
# VOLTTRON web service (optional, disabled by default)
VOLTTRON_WEB_ADDRESS=
# Instance name for this VOLTTRON platform
VOLTTRON_INSTANCE_NAME=sentinel-edge
# Message bus type (zmq or rmq)
VOLTTRON_MESSAGE_BUS=zmq

# ===========================================
# BACnet Configuration (REQUIRED)
# ===========================================
# The BACnet/IP address this container will use to communicate on the network
# Format: IP/CIDR:PORT
# Example: 192.168.1.100/24:47808
BACNET_ADDRESS=192.168.1.100/24:47808

# BACnet device name
BACNET_NAME=Sentinel

# BACnet device instance number
BACNET_INSTANCE=708114

# BACnet network number
BACNET_NETWORK=0

# BACnet vendor identifier (1318 = ACE IoT Solutions)
BACNET_VENDOR_ID=1318

# BACnet Foreign Device Registration (optional)
# Set to BBMD address if registering as foreign device
# Format: "IP:PORT" or null
# Example: BACNET_FOREIGN="192.168.1.1:47808"
BACNET_FOREIGN=null

# Time-to-live for foreign device registration (seconds)
BACNET_TTL=30

# BBMD configuration (optional)
# Set to configure this device as a BBMD
BACNET_BBMD=null

# ===========================================
# Grasshopper Web UI Configuration
# ===========================================
# Enable the Grasshopper web interface
WEBAPP_ENABLED=true

# Host to bind web server to
WEBAPP_HOST=0.0.0.0

# Port for web UI (this will be exposed from the container)
WEBAPP_PORT=5000

# SSL/TLS certificate paths (optional)
# Leave as null for HTTP, provide paths for HTTPS
WEBAPP_CERTFILE=null
WEBAPP_KEYFILE=null

# ===========================================
# Network Scanning Configuration
# ===========================================
# How often to scan the BACnet network (seconds)
# Default: 86400 (24 hours)
SCAN_INTERVAL_SECS=86400

# BACnet device instance range to scan
# Default: 0 to 4194303 (full BACnet range)
LOW_LIMIT=0
HIGH_LIMIT=4194303

# Scanning step sizes for optimization
# Full step: step size when devices are found
# Empty step: step size when no devices found
DEVICE_BROADCAST_FULL_STEP=100
DEVICE_BROADCAST_EMPTY_STEP=1000

# ===========================================
# ACE Config Agent Integration (Recommended)
# ===========================================
# The ACE Config Agent manages connection to ACE IoT Manager platform
# and provides centralized configuration, JWT rotation, and platform management
#
# When enabled, Grasshopper will automatically receive API credentials
# from the ACE Config Agent for uploading scan results

# Enable ACE Config Agent integration
ACE_CONFIG_ENABLED=false

# ACE Manager API URL (REQUIRED if ACE_CONFIG_ENABLED=true)
# Example: https://manage.aceiot.cloud or http://172.26.0.3:8888
ACE_CONFIG_URL=

# JWT token for authentication with ACE Manager (REQUIRED if ACE_CONFIG_ENABLED=true)
# This JWT will be auto-rotated by the ace-config agent
ACE_CONFIG_JWT=

# Client identifier (optional, for multi-tenant environments)
ACE_CONFIG_CLIENT=

# Site name (optional, for organizing gateways)
ACE_CONFIG_SITE=

# Gateway name (REQUIRED if ACE_CONFIG_ENABLED=true)
# Unique identifier for this gateway/edge device
ACE_CONFIG_GATEWAY=

# How often to poll ACE Manager for configuration updates (seconds)
ACE_CONFIG_POLL_INTERVAL=60

# ===========================================
# Cloud Upload Configuration (Alternative)
# ===========================================
# Direct cloud upload WITHOUT ACE Config Agent
# Use this ONLY if ACE_CONFIG_ENABLED=false
# If ACE Config is enabled, credentials come from there automatically

# Enable uploading scan results to cloud API
CLOUD_UPLOAD_ENABLED=false

# API endpoint URL (not needed if using ACE Config)
CLOUD_UPLOAD_URL=

# JWT token for authentication (not needed if using ACE Config)
# Note: This JWT is static and won't auto-rotate
CLOUD_UPLOAD_JWT=

# Upload interval (seconds)
CLOUD_UPLOAD_INTERVAL=86400
